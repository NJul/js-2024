<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 2</title>
  </head>
  <body>
    <h2>
      Задача 2: виконайте рефакторинг сценарію для конвертації температури між
      Цельсієм та Фаренгейтом.
    </h2>
    <p>
      Мета: переписати код таким чином, щоб використовувати функції для
      конвертації з одних одиниць виміру у інші.
    </p>

    <p>
      Введіть значення для перетворення
      <input type="text" id="temp" />
    </p>
    <div>
      <button id="btnToC">У градуси Цельсія</button>
      <button id="btnToF">У градуси по Фаренгейту</button>
    </div>
    <div>
      <b id="output"></b>
    </div>

    <script>
      let getValue = () => Number(document.querySelector('#temp').value);
      let toCelsius = (temp) => (5 / 9) * (temp - 32);
      let toFahrenheit = (temp) => (9 / 5) * temp + 32;

      let convert = (converter) => {
        // замикання
        return () => {
          let temp = getValue();
          let value = converter(temp);
          showResult(value);
        };
        // /замикання
      };

      document.querySelector('#btnToC').onclick = convert(toCelsius);

      document.querySelector('#btnToF').onclick = convert(toFahrenheit);

      // document.querySelector('#btnToC').onclick = function () {
      //   let tempF = Number(document.querySelector('#temp').value);
      //   let tempC = (5 / 9) * (tempF - 32);
      //   showResult(tempC);
      // };

      // document.querySelector('#btnToF').onclick = function () {
      //   let tempC = Number(document.querySelector('#temp').value);
      //   let tempF = (9 / 5) * tempC + 32;
      //   showResult(tempF);
      // };

      function showResult(result) {
        let output = document.querySelector('#output');
        output.innerHTML = result;
      }
    </script>
  </body>
</html>
